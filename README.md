# [Снежность зимы](https://github.com/yupest/weather_forcast/blob/main/Calculating%20snowiness%20of%20winter.ipynb)
Задача состояла в определении разницы процента суммы снежных осадков в зимний период по отношению к средней суммы количества осадков за прошедшие 10 лет. В результате был сформирован набор данных, в котором отражается фактическая сумма осадков по месяцам (и декадам для пограничных месяцев) зимы. 
## [snowiness.csv](https://github.com/yupest/weather_forcast/blob/main/data/snowiness.csv)
Чаще всего были представлены наборы данных архива погоды по метеостанциям в периоды с 01.01.2017 по 31.12.2020 поэтому получились 3 зимы: 17/18, 18/19 и 19/20.

|колонка|обозначение|
|--|--|
|start| начало зимы (по годам)
|end| конец зимы (по годам)
|10-12 и 1-4| сумма осадков RRR по месяцам
|sum_RRR_fact|сумма осадков за зиму (зимние месяца), включая все значения пограничных месяцев
|percent| процент суммы осадков из ssum_RRR_fact от среднего показателя (все что меньше -25 - малоснежная, положительные - многоснежная)
|decade_start| значение суммы осадков по декадам первого месяца зимы (меньше 10 дней - значение берется 3/3, от 10 до 20 - 2/3 от 20 1/3)
|decade_end| значение суммы осадков по декадам последнего месяца зимы (меньше 10 дней - значение берется 1/3, от 10 до 20 - 2/3 от 20 3/3)
|start_month| месяц начала зимы в цифрах
|end_month| месяц конца зимы в цифрах 
|sum_RRR| средняя сумма осадков RRR за последние 10 лет по зимним месяцам метеостанции (от start до end)
|decade_sum_RRR| сумма осадков за зиму (зимние месяца), вместо первого и последнего месяцев считаются значения по декадам из decade_start и decade_end
|decade_percent| процент суммы осадков из decade_sum_RRR от среднего показателя (все что меньше -25 - малоснежная, положительные - многоснежная)
|id_station|идентификатор метеостанции
|station|название метеостанции

# weather_forcast
Calculating complex factor fire safety
# Иркутская область
## [stations_distance_v2.csv](https://github.com/yupest/weather_forcast/blob/main/data/stations_distance_v2.csv)
Метеостанции и соответствие им населенных пунктов (НП). Был написан алгоритм сбора данных о соответствии населенных пунктов и метесотанций и выгрзука врхива погоды (с 01.01.2017 по 31.12.2020) с сайта https://rp5.ru/ метеостанций НП Иркутской области.Был произведен поиск фактических ближайших метеостанций с помощью функционала QGIS во избежание опечаток. Некоторые ближайшие станции не определились, поскольку не обнаружены координаты некоторых НП. Не были выгружены данные по архиву погоды аэропортов Братска и Иркутска из-за тех. неполадок сайта.

|колонка|обозначение|
|--|--|
|district| название района
|district_url| ссылка на погоду Района с сайта rp5
|np| название населенного пункта
|np_url| ссылка на погоду НП с сайта rp5
|station| метеостанция, которая относится к НП с сайта rp5
|id_station| номер метеостанции
|lat| широта метеостанции
|lon| долгота метеостанции
|HubName| ближайшая станция (ее номер) по факту (найдена с помощью QGIS)
|HubDist| дистанция до ближайшей метеостанции

## [Словарь метеостанций Иркутской области](https://github.com/yupest/weather_forcast/blob/main/data/meteostations_irk_obl.csv)
Данные содержат номер,  названия и координаты метеостанций. Такой словарь позволит ориентироваться по номерам станций в других файлах.

## [Комплексный показатель пожароопасности](https://github.com/yupest/weather_forcast/blob/main/data/KP%20for%20Irkobl)
В папке содержатся файлы данных с подсчитанным показателем. Название файла указывает номер метеостанции. 
По всем метеостанциям, по дате и времени, при подсчете Комплексного показателя были взяты средние температуры, так как в таблице не было предоставлена температура в 12.00. Дождливым день считается, если в какое либо время в течение дня осадки превысили 2.5.

|колонка|обозначение|
|--|--|
|id_station| номер станции
|date| дата
|time| время
|datetime| время дата
|sss| высота снежного покрова (см)
|RRR| осадки
|T| температура воздуха
|Td| температура точки росы
|t(t-r)| подсчет (по средним за день T и Td) kp показателя без учета дней после дождя 
|n| количество дней после дождя (при RRR >2.5 - считается дождем - и n = 0)
|kp| комплексный показатель пожарной безопасности с учетом n (сумма  предыдущих kp без дождя)

Также, данные были сгруппированы по дням, так как комплексный показатель в итоге подсчитан для каждого дня. Такие данные содержатся в файлах с постфиксом `_by_day`:
- взяты средние sss, T, Td
- максимальное RRR

# Бодайбинский район
## [meteostations.csv](https://github.com/yupest/weather_forcast/blob/main/data/meteostations.csv)

Метеостанции и соответствие им населенных пунктов (НП). Был произведен поиск фактически ближайших метеостанций. В результате чего, оказалось, что станции *Леприндо и Улан-Макит* находятся далеко от заданных населенных пунктов, поэтому могут быть исключены из исследования.

|колонка|обозначение|
|--|--|
|district| название района
|NP| название населенного пункта
|station| метеостанция, которая относится к НП с сайта rp5
|number| номер метеостанции
|lat_station| широта метеостанции
|lon_station| долгота метеостанции
|poly_wkt| полигон населенного пункта
|HubName| ближайшая станция по факту (найдена с помощью QGIS)
|HubDist| дистанция до ближайшей метеостанции
|centroid| точка центроида полигона НП

## [kp_po_forcast.csv](https://github.com/yupest/weather_forcast/blob/main/data/kp_po_forcast.csv)

По всем метеостанциям, по дате и времени, при подсчете Комплексного показателя были взяты средние температуры, так как в таблице не было предоставлена температура в 12.00. Дождливым день считается, если в какое либо время в течение дня осадки превысили 2.5.

|колонка|обозначение|
|--|--|
|station| название станции
|date| дата
|time| время
|datetime| время дата
|sss| высота снежного покрова (см)
|RRR| осадки
|T| температура воздуха
|Td| температура точки росы
|t(t-r)| подсчет (по средним за день T и Td) kp показателя без учета дней после дождя 
|n| количество дней после дождя (при RRR >2.5 - считается дождем - и n = 0)
|kp| комплексный показатель пожарной безопасности с учетом n (сумма  предыдущих kp без дождя)

## [kp_po_forcast_nearest_station.csv](https://github.com/yupest/weather_forcast/blob/main/data/kp_po_forcast_nearest_station.csv)

То же самое, что файл выше, только не учитывая метеостанции *Леприндо и Улан-Макит*

## [kp_po_forcast_by_day.csv](https://github.com/yupest/weather_forcast/blob/main/data/kp_po_forcast_by_day.csv)

По всем метеостанциям, сгруппировано по дням:
- взяты средние sss, T, Td
- максимальное RRR


## [kp_po_forcast_nearest_station_by_day.csv](https://github.com/yupest/weather_forcast/blob/main/data/kp_po_forcast_nearest_station_by_day.csv)

То же самое, что файл выше, только не учитывая метеостанции *Леприндо и Улан-Макит*
